<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nested Popup Test Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.8;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .highlight {
            background: #ffeb3b;
            padding: 2px 4px;
        }
    </style>
</head>
<body>
    <h1>Nested Popup Test Page</h1>
    
    <div class="test-section">
        <h2>Test 1: Basic Words</h2>
        <p>
            Select the word <span class="highlight">algorithm</span> to open the first popup.
            Then select words inside that popup to create nested popups.
        </p>
    </div>

    <div class="test-section">
        <h2>Test 2: Multiple Words</h2>
        <p>
            You can select phrases like <span class="highlight">machine learning</span> or 
            <span class="highlight">artificial intelligence</span> to test with multiple words.
        </p>
    </div>

    <div class="test-section">
        <h2>Test 3: Deep Nesting</h2>
        <p>
            Test deep nesting by selecting words like <span class="highlight">computer</span>, 
            then selecting words in subsequent popups: <span class="highlight">processing</span>, 
            <span class="highlight">hardware</span>, <span class="highlight">software</span>, 
            <span class="highlight">network</span>.
        </p>
    </div>

    <div class="test-section">
        <h2>Test 4: LIFO Closing</h2>
        <p>
            Create multiple nested popups, then click outside the popups. The last opened popup 
            should close first. Click again to close the next popup, and so on.
        </p>
    </div>

    <div class="test-section">
        <h2>Test 5: Escape Key</h2>
        <p>
            Create multiple nested popups with words like <span class="highlight">database</span>, 
            <span class="highlight">query</span>, <span class="highlight">optimization</span>.
            Press the Escape key - all popups should close simultaneously.
        </p>
    </div>

    <div class="test-section">
        <h2>Instructions</h2>
        <ol>
            <li>Select a word to open popup #1</li>
            <li>Select a word inside popup #1 to open popup #2</li>
            <li>Select a word inside popup #2 to open popup #3</li>
            <li>Verify each popup shows the correct number (1, 2, 3, etc.)</li>
            <li>Click outside the popups - the last one should close</li>
            <li>Click again - the next popup should close</li>
            <li>Press Escape - all remaining popups should close</li>
        </ol>
    </div>
</body>
</html>
